<!-- assessment-viewer-widget | uses team4 Cloud Function ---------------------------------->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Assessment Viewer</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
  <style>
    /* reset + base */
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Inter',sans-serif;background:#f8f9fb;color:#2a2a2a}

    /* container */
    .widget-container{max-width:860px;margin:40px auto;background:#fff;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,.06);overflow:hidden}

    /* title strip */
    .title-strip{background:#eef1f6;padding:12px 20px;border-bottom:1px solid #dfe3e8}
    .title-strip h2{font-size:22px;font-weight:700;letter-spacing:.2px;color:#111}

    /* lookup row */
    .lookup-row{display:flex;gap:10px;padding:20px;border-bottom:1px solid #eee}
    .lookup-row label{font-weight:600;margin-right:4px;align-self:center}
    .lookup-row input{flex:1;padding:8px 10px;border:1px solid #c8ccd1;border-radius:4px}
    .lookup-row button{background:#0f4d90;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-weight:600;cursor:pointer}
    .lookup-row button:disabled{opacity:.6;cursor:progress}

    /* explanatory paragraph */
    .blurb{padding:0 20px 20px;font-size:14px;line-height:1.6;color:#444}

    /* chart */
    #valuation-chart-container{padding:0 20px}
    #valuation-chart{width:100%;height:280px}

    /* table */
    table{width:100%;border-collapse:collapse;font-size:14px;margin:20px 0}
    thead th{background:#4d4d4d;color:#fff;padding:10px;font-weight:600}
    tbody td{padding:10px;border-bottom:1px solid #ececec}
    tbody tr:nth-child(even){background:#f3f3f3}
  </style>
</head>
<body>
  <main class="widget-container">
    <div class="title-strip"><h2>Property Historical Assessment Viewer</h2></div>

    <div class="lookup-row">
      <label for="opa-id">OPA&nbsp;ID</label>
      <input type="text" id="opa-id" placeholder="e.g., 011000002" />
      <button id="lookup-btn" onclick="lookupAssessment()">Find</button>
    </div>

    <p class="blurb">Taxable and exempt land values can represent the contributory value of land in relation to the total market value. Consistent with IAAO standards, the value of an improved parcel is separated into the portion attributed to the improvement and the portion attributed to the land.</p>

    <section class="valuation-summary">
      <div id="valuation-chart-container"><canvas id="valuation-chart"></canvas></div>
      <div id="valuation-table-container"></div>
    </section>
  </main>
  <!-- load Chart.js & the widget logic -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>